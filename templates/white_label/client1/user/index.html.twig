{% extends 'white_label/client1/base.html.twig' %}

{% block title %}Mon compte{% endblock %}
{% block page_title %}Mon compte{% endblock %}

{% block body %}

    <section class="top-dashboard">
        <div class="inner-block-dashboard d-md-flex justify-content-between align-items-center">
            <div class="left-inner-block">
                <h1 class="left-inner-block">Bonjour {{ app.user.prenom }} !</h1>
            </div>
            {% if candidat is defined %}
            <div class="rightt-inner-block text-center">
                <div class="chart-container profil-complete-radial">
                    {{ render_chart(chart) }}
                    <div class="chart-label">
                        {{ completion }}%
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
    </section>

    <div class="content-db_ p-4">
        {% if candidat is defined %}
            <div class="biographie-profil mb-4 p-4">
                <span class="fs-5 fw-bold mb-3 lh-base st-title">Profil candidat</span>
                <div class="d-md-flex flex-box_">
                    <span class="fs-6 lh-base">Nom complet</span>
                    <div class="d-md-flex fw-bold info-bx flex-box_">
                        {{ app.user.nom }} {{ app.user.prenom }}
                    </div>
                </div>
                {% if candidat.titre %}
                    <div class="d-md-flex flex-box_">
                        <span class="fs-6 lh-base">Titre</span>
                        <div class="d-md-flex fw-bold info-bx flex-box_">
                            {{ candidat.titre }}
                        </div>
                    </div>
                {% endif %}
                {% if candidat.resume %}
                    <p class="mt-3">{{ candidat.resume|raw }}</p>
                {% endif %}
                <ul class="list-unstyled mt-3">
                    <li>Complétion du profil : {{ candidat.getProfileCompletion() }}%</li>
                    <li>Candidatures : {{ candidat.getCountApplications() }}</li>
                    <li>Vues du profil : {{ candidat.getCountViews() }}</li>
                </ul>
            </div>
        {% elseif entreprise is defined %}
            <div class="biographie-profil mb-4 p-4">
                <span class="fs-5 fw-bold mb-3 lh-base st-title">Profil entreprise</span>
                <div class="d-md-flex flex-box_">
                    <span class="fs-6 lh-base">Nom</span>
                    <div class="d-md-flex fw-bold info-bx flex-box_">
                        {{ entreprise.nom }}
                    </div>
                </div>
                {% if entreprise.description %}
                    <p class="mt-3">{{ entreprise.description|raw }}</p>
                {% endif %}
                <ul class="list-unstyled mt-3">
                    <li>Site web : {{ entreprise.siteWeb }}</li>
                    <li>Annonces publiées : {{ entreprise.jobListings|length }}</li>
                    <li>Favoris : {{ entreprise.favoris|length }}</li>
                </ul>
            </div>
        {% else %}
            <p>Votre type de compte n'est pas encore configuré.</p>
        {% endif %}
    </div>
{% endblock %}
