{% extends 'white_label/client1/base.html.twig' %}

{% block title %}Candidature #{{ application.id }}{% endblock %}
{% block page_title %}Détail candidature{% endblock %}

{% block body %}
<div class="container mt-2">
    <div class="card my-4">
        <div class="card-header pt-3 bg-warning">
            <h3 class="h4">Détails de la Candidature</h3>
        </div>
        <div class="card-body">
            <h5 class="card-title">Candidature pour le poste : {{ application.annonce.titre }}</h5>
            <p>
                <span class="fw-bold">Candidat :</span> 
                <a href="{{ path('app_white_label_client1_recruiter_view_profile', {'id': application.candidat.id}) }}">
                    {{ application.candidat.candidat.nom }} {{ application.candidat.candidat.prenom }}
                </a>
            </p>
            <p><span class="fw-bold">Email:</span> {{ application.candidat.candidat.email }}</p>
            <p><span class="fw-bold">Biographie:</span> {{ application.candidat.resume|raw }}</p>
            <p><span class="fw-bold">Compétences:</span>
                {% for skill in application.candidat.competences %}
                    <span class="badge bg-dark">{{ skill.nom }}</span>
                {% endfor %}
            </p>
            <p><span class="fw-bold">Lettre de motivation :</span></p>
            <p>{{ application.lettreMotivation|raw }}</p>
            {% if application.candidat.cv %}
                <p><span class="fw-bold">Lien vers le CV :</span> <a href="{{ asset('uploads/cv/' ~ application.candidat.cv) }}" class="btn btn-outline-primary rounded-pill btn-sm" target="_blank">Voir le CV</a></p>
            {% endif %}
            <p><span class="fw-bold">Date de candidature :</span> {{ application.dateCandidature|date('d/m/Y') }}</p>
            <p><span class="fw-bold">Status :</span> {{ application.status }}</p>
            {% if application.pretentionSalariale %}
                <p><span class="fw-bold">Prétention salariale :</span> {{ application.pretentionSalariale }}</p>
            {% endif %}
        </div>
    </div>

    {% if application.annonce %}
        <div class="card my-4">
            <div class="card-header pt-3 bg-warning">
                <h3 class="h4"><i class="fas fa-info-circle"></i> Informations sur le poste</h3>
            </div>
            <div class="card-body">
                <h4 class="card-title">Titre du poste : {{ application.annonce.titre }}</h4>
                <p><span class="fw-bold">Date de création</span> : {{ application.annonce.dateCreation|date('d/m/Y') }}</p>
                <p><span class="fw-bold">Date d'expiration</span> : {{ application.annonce.dateExpiration|date('d/m/Y') }}</p>
                <p><span class="fw-bold">Status</span> : {{ application.annonce.status }}</p>
                <p><span class="fw-bold">Salaire</span> : {{ application.annonce.salaire }}</p>
                <p><span class="fw-bold">Lieu</span> : {{ application.annonce.lieu }}</p>
                <p><span class="fw-bold">Nombre de postes</span> : {{ application.annonce.nombrePoste }}</p>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}
